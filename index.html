<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rest Client With Bootstrap</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body>
    <h1>Rest client Bootstrap dan jQuery</h1>
    <div class="mb-5"></div>
    <button type="button" class="btn btn-success" id="btnTambahData">Ambil Data</button>
    <div class="mb-5"></div>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Data dari REST server</h5>

            <!-- div dengan id data digunakan sebagai tempat menampilkan tabel data -->
            <div id="data">
                <h2 class="text-center">-- Tidak ada data --</h2>

            </div>
        </div>
    </div>
   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
   
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

    <!-- script -->
    <script>
        // tunggu dokument terload kemudian menjalankan script lain
        $(document).ready(function() {

            // deteksi event ketika button ambil data ditekan
            $('#btnTambahData').click(() => {
                $.ajax({
                    url: 'https://jsonplaceholder.typicode.com/posts',
                    type: 'GET',
                    dataType: 'json',
                    success: (data) => {

                        // ambildata lewat var data
                        let tabel = `<table class="table table-striped"> 
                            <thead> 
                                <tr> 
                                    <th scope= "col" width ="10%">Post ID</th>
                                    <th scope= "col" >Title</th>
                                    <th scope= "col" >Body</th>
                                </tr>
                            </thead>
                            <tbody>`
                        
                        // looping baris data, format menggunakan HTML
                        $.each(data, (index, val) => {
                            tabel += `<tr>
                                        <td> ${val.id} </td>
                                        <td> ${val.title} </td>
                                        <td> ${val.body} </td>
                                        </tr>`
                        });

                        tabel += '</tbody> </table>'
                        
                        $('div#data').html(tabel);
                            
                    }
                })
            })
        })
    </script>
</body>
</html>